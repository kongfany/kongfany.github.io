<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>处理图像 - 大胖狗来了</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="kong" /><meta name="description" content="入门知识 颜色。如果你有使用颜料画画的经历，那么一定知道混合红、黄、蓝三种颜料可以得到其他的颜色，事实上这三种颜色就是美术中的三原色，它们是不" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.87.0 with theme even" />


<link rel="canonical" href="https://kongfany.github.io/post/python25%E5%A4%84%E7%90%86%E5%9B%BE%E5%83%8F/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="处理图像" />
<meta property="og:description" content="入门知识 颜色。如果你有使用颜料画画的经历，那么一定知道混合红、黄、蓝三种颜料可以得到其他的颜色，事实上这三种颜色就是美术中的三原色，它们是不" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kongfany.github.io/post/python25%E5%A4%84%E7%90%86%E5%9B%BE%E5%83%8F/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-07-30T19:08:52+08:00" />
<meta property="article:modified_time" content="2021-07-30T19:08:52+08:00" />

<meta itemprop="name" content="处理图像">
<meta itemprop="description" content="入门知识 颜色。如果你有使用颜料画画的经历，那么一定知道混合红、黄、蓝三种颜料可以得到其他的颜色，事实上这三种颜色就是美术中的三原色，它们是不"><meta itemprop="datePublished" content="2021-07-30T19:08:52+08:00" />
<meta itemprop="dateModified" content="2021-07-30T19:08:52+08:00" />
<meta itemprop="wordCount" content="2731">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="处理图像"/>
<meta name="twitter:description" content="入门知识 颜色。如果你有使用颜料画画的经历，那么一定知道混合红、黄、蓝三种颜料可以得到其他的颜色，事实上这三种颜色就是美术中的三原色，它们是不"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">大胖狗来了</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/introspection/">
        <li class="mobile-menu-item">Introspection</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">大胖狗来了</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/introspection/">Introspection</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">处理图像</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-07-30 </span>
        <div class="post-category">
            <a href="/categories/python/"> Python </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#入门知识">入门知识</a></li>
    <li><a href="#用pillow处理图像">用Pillow处理图像</a>
      <ul>
        <li><a href="#读取和显示图像">读取和显示图像</a></li>
        <li><a href="#剪裁图像">剪裁图像</a></li>
        <li><a href="#生成缩略图">生成缩略图</a></li>
        <li><a href="#缩放和黏贴图像">缩放和黏贴图像</a></li>
        <li><a href="#旋转和翻转">旋转和翻转</a></li>
        <li><a href="#操作像素">操作像素</a></li>
        <li><a href="#滤镜效果">滤镜效果</a></li>
      </ul>
    </li>
    <li><a href="#使用pillow绘图">使用Pillow绘图</a></li>
    <li><a href="#简单总结">简单总结</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="入门知识">入门知识</h1>
<ol>
<li>
<p>颜色。如果你有使用颜料画画的经历，那么一定知道混合红、黄、蓝三种颜料可以得到其他的颜色，事实上这三种颜色就是美术中的三原色，它们是不能再分解的基本颜色。在计算机中，我们可以将红、绿、蓝三种色光以不同的比例叠加来组合成其他的颜色，因此这三种颜色就是色光三原色。在计算机系统中，我们通常会将一个颜色表示为一个RGB值或RGBA值（其中的A表示Alpha通道，它决定了透过这个图像的像素，也就是透明度）。</p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">RGB值</th>
<th style="text-align:center">名称</th>
<th style="text-align:center">RGB值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">White（白）</td>
<td style="text-align:center">(255, 255, 255)</td>
<td style="text-align:center">Red（红）</td>
<td style="text-align:center">(255, 0, 0)</td>
</tr>
<tr>
<td style="text-align:center">Green（绿）</td>
<td style="text-align:center">(0, 255, 0)</td>
<td style="text-align:center">Blue（蓝）</td>
<td style="text-align:center">(0, 0, 255)</td>
</tr>
<tr>
<td style="text-align:center">Gray（灰）</td>
<td style="text-align:center">(128, 128, 128)</td>
<td style="text-align:center">Yellow（黄）</td>
<td style="text-align:center">(255, 255, 0)</td>
</tr>
<tr>
<td style="text-align:center">Black（黑）</td>
<td style="text-align:center">(0, 0, 0)</td>
<td style="text-align:center">Purple（紫）</td>
<td style="text-align:center">(128, 0, 128)</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>像素。对于一个由数字序列表示的图像来说，最小的单位就是图像上单一颜色的小方格，这些小方块都有一个明确的位置和被分配的色彩数值，而这些一小方格的颜色和位置决定了该图像最终呈现出来的样子，它们是不可分割的单位，我们通常称之为像素（pixel）。每一个图像都包含了一定量的像素，这些像素决定图像在屏幕上所呈现的大小，大家如果爱好拍照或者自拍，对像素这个词就不会陌生。</p>
</li>
</ol>
<h1 id="用pillow处理图像">用Pillow处理图像</h1>
<p>Pillow是由从著名的Python图像处理库PIL发展出来的一个分支，通过Pillow可以实现图像压缩和图像处理等各种操作。可以使用下面的命令来安装Pillow。</p>
<p><a href="https://jingyan.baidu.com/article/ff42efa929e6c8c19f220254.html">安装</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">pip install pillow
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">D:<span class="se">\P</span>ython<span class="se">\P</span>ython37<span class="se">\S</span>cripts&gt;easy_install.exe pip
WARNING: The easy_install <span class="nb">command</span> is deprecated and will be removed in a future version.
Searching <span class="k">for</span> pip
Best match: pip 20.1.1
Adding pip 20.1.1 to easy-install.pth file
Installing pip-script.py script to d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\S</span>cripts
Installing pip.exe script to d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\S</span>cripts
Installing pip3-script.py script to d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\S</span>cripts
Installing pip3.exe script to d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\S</span>cripts
Installing pip3.8-script.py script to d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\S</span>cripts
Installing pip3.8.exe script to d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\S</span>cripts

Using d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\l</span>ib<span class="se">\s</span>ite-packages
Processing dependencies <span class="k">for</span> pip
Finished processing dependencies <span class="k">for</span> pip

D:<span class="se">\P</span>ython<span class="se">\P</span>ython37<span class="se">\S</span>cripts&gt;pip

Usage:
  pip &lt;command&gt; <span class="o">[</span>options<span class="o">]</span>

Commands:
  install                     Install packages.
  download                    Download packages.
  uninstall                   Uninstall packages.
  freeze                      Output installed packages in requirements format.
  list                        List installed packages.
  show                        Show information about installed packages.
  check                       Verify installed packages have compatible dependencies.
  config                      Manage <span class="nb">local</span> and global configuration.
  search                      Search PyPI <span class="k">for</span> packages.
  cache                       Inspect and manage pip<span class="s1">&#39;s wheel cache.
</span><span class="s1">  wheel                       Build wheels from your requirements.
</span><span class="s1">  hash                        Compute hashes of package archives.
</span><span class="s1">  completion                  A helper command used for command completion.
</span><span class="s1">  debug                       Show information useful for debugging.
</span><span class="s1">  help                        Show help for commands.
</span><span class="s1">
</span><span class="s1">General Options:
</span><span class="s1">  -h, --help                  Show help.
</span><span class="s1">  --isolated                  Run pip in an isolated mode, ignoring environment variables and user configuration.
</span><span class="s1">  -v, --verbose               Give more output. Option is additive, and can be used up to 3 times.
</span><span class="s1">  -V, --version               Show version and exit.
</span><span class="s1">  -q, --quiet                 Give less output. Option is additive, and can be used up to 3 times (corresponding to WARNING, ERROR, and CRITICAL logging levels).
</span><span class="s1">  --log &lt;path&gt;                Path to a verbose appending log.
</span><span class="s1">  --proxy &lt;proxy&gt;             Specify a proxy in the form [user:passwd@]proxy.server:port.
</span><span class="s1">  --retries &lt;retries&gt;         Maximum number of retries each connection should attempt (default 5 times).
</span><span class="s1">  --timeout &lt;sec&gt;             Set the socket timeout (default 15 seconds).
</span><span class="s1">  --exists-action &lt;action&gt;    Default action when a path already exists: (s)witch, (i)gnore, (w)ipe, (b)ackup, (a)bort.
</span><span class="s1">  --trusted-host &lt;hostname&gt;   Mark this host or host:port pair as trusted, even though it does not have valid or any HTTPS.
</span><span class="s1">  --cert &lt;path&gt;               Path to alternate CA bundle.
</span><span class="s1">  --client-cert &lt;path&gt;        Path to SSL client certificate, a single file containing the private key and the certificate in PEM format.
</span><span class="s1">  --cache-dir &lt;dir&gt;           Store the cache data in &lt;dir&gt;.
</span><span class="s1">  --no-cache-dir              Disable the cache.
</span><span class="s1">  --disable-pip-version-check
</span><span class="s1">                              Don&#39;</span>t periodically check PyPI to determine whether a new version of pip is available <span class="k">for</span> download. Implied with --no-index.
  --no-color                  Suppress colored output
  --no-python-version-warning
                              Silence deprecation warnings <span class="k">for</span> upcoming unsupported Pythons.

D:<span class="se">\P</span>ython<span class="se">\P</span>ython37<span class="se">\S</span>cripts&gt;pip install pillow
Collecting pillow
  Downloading Pillow-8.3.1-1-cp37-cp37m-win_amd64.whl <span class="o">(</span>3.2 MB<span class="o">)</span>
     <span class="p">|</span>████████████████████████████████<span class="p">|</span> 3.2 MB <span class="m">435</span> kB/s
Installing collected packages: pillow
Successfully installed pillow-8.3.1
WARNING: You are using pip version 20.1.1<span class="p">;</span> however, version 21.2.1 is available.
You should consider upgrading via the <span class="s1">&#39;d:\python\python37\python.exe -m pip install --upgrade pip&#39;</span> command.

D:<span class="se">\P</span>ython<span class="se">\P</span>ython37<span class="se">\S</span>cripts&gt;d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\p</span>ython.exe -m pip install --upgrade pip
Collecting pip
  Downloading pip-21.2.1-py3-none-any.whl <span class="o">(</span>1.6 MB<span class="o">)</span>
     <span class="p">|</span>████████████████████████████████<span class="p">|</span> 1.6 MB <span class="m">504</span> kB/s
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 20.1.1
    Uninstalling pip-20.1.1:
      Successfully uninstalled pip-20.1.1
Successfully installed pip-21.2.1

D:<span class="se">\P</span>ython<span class="se">\P</span>ython37<span class="se">\S</span>cripts&gt;pip show pip
Name: pip
Version: 21.2.1
Summary: The PyPA recommended tool <span class="k">for</span> installing Python packages.
Home-page: https://pip.pypa.io/
Author: The pip developers
Author-email: distutils-sig@python.org
License: MIT
Location: d:<span class="se">\p</span>ython<span class="se">\p</span>ython37<span class="se">\l</span>ib<span class="se">\s</span>ite-packages
Requires:
Required-by:

D:<span class="se">\P</span>ython<span class="se">\P</span>ython37<span class="se">\S</span>cripts&gt;
</code></pre></td></tr></table>
</div>
</div><p>按照上面按照后，在编写过程中依然报错，import处下载了一次pil仍报错，又下载了一次pillow后成功了。</p>
<p>Pillow中最为重要的是<code>Image</code>类，可以通过<code>Image</code>模块的<code>open</code>函数来读取图像并获得<code>Image</code>类型的对象。</p>
<p><img src="/images/202107/messi.jpg" alt=""></p>
<p><img src="/images/202107/ney.jpg" alt=""></p>
<h2 id="读取和显示图像">读取和显示图像</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="c1"># 读取图像获得Image对象</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;messi.jpg&#39;</span><span class="p">)</span>
<span class="c1"># 通过Image对象的format属性获得图像的格式</span>
<span class="nb">print</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">format</span><span class="p">)</span> <span class="c1"># JPEG</span>
<span class="c1"># 通过Image对象的size属性获得图像的尺寸</span>
<span class="nb">print</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>   <span class="c1"># (500, 750)</span>
<span class="c1"># 通过Image对象的mode属性获取图像的模式</span>
<span class="nb">print</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>   <span class="c1"># RGB</span>
<span class="c1"># 通过Image对象的show方法显示图像</span>
<span class="n">image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="剪裁图像">剪裁图像</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># 通过Image对象的crop方法指定剪裁区域剪裁图像</span>
<span class="n">image</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">480</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/33.png" alt=""></p>
<h2 id="生成缩略图">生成缩略图</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># 通过Image对象的thumbnail方法生成指定尺寸的缩略图</span>
<span class="n">image</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">((</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
<span class="n">image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/32.png" alt=""></p>
<h2 id="缩放和黏贴图像">缩放和黏贴图像</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># 读取neymarjr的照片获得Image对象</span>
<span class="n">ney_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;ney.jpg&#39;</span><span class="p">)</span>
<span class="c1"># 读取messi的照片获得Image对象</span>
<span class="n">messi_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;messi.jpg&#39;</span><span class="p">)</span>
<span class="c1"># 从messi的照片上剪裁出messi的头</span>
<span class="n">messi_head</span> <span class="o">=</span> <span class="n">messi_image</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">480</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span>
<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">messi_head</span><span class="o">.</span><span class="n">size</span>
<span class="c1"># 使用Image对象的resize方法修改图像的尺寸</span>
<span class="c1"># 使用Image对象的paste方法将messi的头粘贴到ney的照片上</span>
<span class="n">ney_image</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">messi_head</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span> <span class="o">/</span> <span class="mf">1.5</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">height</span> <span class="o">/</span> <span class="mf">1.5</span><span class="p">))),</span> <span class="p">(</span><span class="mi">172</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
<span class="n">ney_image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/34.png" alt=""></p>
<h2 id="旋转和翻转">旋转和翻转</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;messi.jpg&#39;</span><span class="p">)</span>
<span class="c1"># 使用Image对象的rotate方法实现图像的旋转</span>
<span class="n">image</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># 使用Image对象的transpose方法实现图像翻转</span>
<span class="c1"># Image.FLIP_LEFT_RIGHT - 水平翻转</span>
<span class="c1"># Image.FLIP_TOP_BOTTOM - 垂直翻转</span>
<span class="n">image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_TOP_BOTTOM</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/35.png" alt=""></p>
<p><img src="/images/202107/36.png" alt=""></p>
<h2 id="操作像素">操作像素</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">480</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">400</span><span class="p">):</span>
        <span class="c1"># 通过Image对象的putpixel方法修改图像指定像素点</span>
        <span class="n">image</span><span class="o">.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
<span class="n">image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/37.png" alt=""></p>
<h2 id="滤镜效果">滤镜效果</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageFilter</span>

<span class="c1"># 使用Image对象的filter方法对图像进行滤镜处理</span>
<span class="c1"># ImageFilter模块包含了诸多预设的滤镜也可以自定义滤镜</span>
<span class="n">image</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="o">.</span><span class="n">CONTOUR</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/38.png" alt=""></p>
<h1 id="使用pillow绘图">使用Pillow绘图</h1>
<p>Pillow中有一个名为<code>ImageDraw</code>的模块，该模块的<code>Draw</code>函数会返回一个<code>ImageDraw</code>对象，通过<code>ImageDraw</code>对象的<code>arc</code>、<code>line</code>、<code>rectangle</code>、<code>ellipse</code>、<code>polygon</code>等方法，可以在图像上绘制出圆弧、线条、矩形、椭圆、多边形等形状，也可以通过该对象的<code>text</code>方法在图像上添加文字。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">random</span>

<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>


<span class="k">def</span> <span class="nf">random_color</span><span class="p">():</span>
    <span class="s2">&#34;&#34;&#34;生成随机颜色&#34;&#34;&#34;</span>
    <span class="n">red</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">green</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
    <span class="n">blue</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span>


<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span>
<span class="c1"># 创建一个800*600的图像，背景色为白色</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
<span class="c1"># 创建一个ImageDraw对象</span>
<span class="n">drawer</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
<span class="c1"># 通过指定字体和大小获得ImageFont对象</span>
<span class="c1"># font = ImageFont.truetype(&#39;Kongxin.ttf&#39;, 32)</span>
<span class="c1"># 通过ImageDraw对象的text方法绘制文字</span>
<span class="c1">#drawer.text((300, 50), &#39;Hello, world!&#39;, fill=(255, 0, 0), font=font)</span>
<span class="c1"># 通过ImageDraw对象的line方法绘制两条对角直线</span>
<span class="n">drawer</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">drawer</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">xy</span> <span class="o">=</span> <span class="n">width</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">60</span><span class="p">,</span> <span class="n">height</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">60</span><span class="p">,</span> <span class="n">width</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span><span class="p">,</span> <span class="n">height</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">60</span>
<span class="c1"># 通过ImageDraw对象的rectangle方法绘制矩形</span>
<span class="n">drawer</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">xy</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># 通过ImageDraw对象的ellipse方法绘制椭圆</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">=</span> <span class="mi">150</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">310</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">380</span>
    <span class="n">drawer</span><span class="o">.</span><span class="n">ellipse</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span> <span class="n">outline</span><span class="o">=</span><span class="n">random_color</span><span class="p">(),</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="c1"># 显示图像</span>
<span class="n">image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># 保存图像</span>
<span class="n">image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;result.png&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/202107/39.png" alt=""></p>
<blockquote>
<p><strong>注意</strong>：上面代码中使用的字体文件需要根据自己准备，可以选择自己喜欢的字体文件并放置在代码目录下。</p>
</blockquote>
<h1 id="简单总结">简单总结</h1>
<p>使用Python语言做开发，除了可以用Pillow来处理图像外，还可以使用更为强大的OpenCV库来完成图形图像的处理，OpenCV（<strong>Open</strong> Source <strong>C</strong>omputer <strong>V</strong>ision Library）是一个跨平台的计算机视觉库，可以用来开发实时图像处理、计算机视觉和模式识别程序。在我们的日常工作中，有很多繁琐乏味的任务其实都可以通过Python程序来处理，编程的目的就是让计算机帮助我们解决问题，减少重复乏味的劳动。</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">kong</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2021-07-30
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/python26%E8%AF%BB%E5%86%99excelword%E6%96%87%E4%BB%B6/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">读写ExcelWord文件</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/python24%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8/">
            <span class="next-text nav-default">正则表达式的应用</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=_JOXlp_emZaBjZ3IwcrMuImJ1puXlQ" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/kongfany" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/u/5947688533?is_all=1" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.zhihu.com/people/yu-ni-zhong-nian-bu-yu" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://space.bilibili.com/232669848" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="https://kongfany.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>kong</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>








</body>
</html>
